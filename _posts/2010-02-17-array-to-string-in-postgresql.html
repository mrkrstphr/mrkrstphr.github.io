---
layout: post
title: array_to_string in PostgreSQL
categories:
- Database
tags:
- PostgreSQL
status: publish
type: post
published: true
meta:
  _edit_last: '2'
  _wp_old_slug: '169'
  _jd_twitter: ''
  _jd_tweet_this: 'yes'
  _wp_jd_clig: ''
  _wp_jd_bitly: ''
  _wp_jd_wp: ''
  _wp_jd_yourls: ''
  _wp_jd_url: ''
  _wp_jd_target: ''
  _jd_wp_twitter: ''
  _jd_post_meta_fixed: 'true'
---
<em>This snippet courtesy of <a href="http://www.kieransmith.net">Kieran Smith</a>.</em>

Want to get more work done in a single query? Tired of looping through query results to simply build a list of data. How about this?

<pre class="prettyprint language-sql">SELECT
array_to_string(
    ARRAY(
        SELECT name
        FROM projects
        WHERE customer_id = 10
        ORDER BY LOWER(name)
    ), ', '
) as projects;</pre>

What you are doing is building an array from the subquery and then turning it back into a string immediately, so you can display multiple results in a single field. Our results might look something like this:

<pre class="prettyprint">gnucashweb, Hangar, OpenAvanti, tarmac</pre>

Nice!
